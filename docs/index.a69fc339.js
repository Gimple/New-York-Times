let e;const t=document.querySelector(".cursor");document.addEventListener("mousemove",n=>{let r=n.clientX+window.pageXOffset,o=n.clientY;requestAnimationFrame(()=>{t.style.top=`${o}px`,t.style.left=`${r}px`,t.style.display="block"}),clearTimeout(e),e=setTimeout(()=>{t.style.display="none"},2e3)}),document.addEventListener("mouseout",()=>{t.style.display="none"});const n="bUkTzCL1G7LmOR4eMVJe1phovYAKLgd6",r=document.getElementById("blog-container"),o=document.getElementById("search-input"),l=document.getElementById("search-button"),a=document.getElementById("category-filter-button"),i=document.getElementById("category-filter-list"),c=i.querySelectorAll("button");async function s(){try{let e=await fetch(`https://api.nytimes.com/svc/topstories/v2/home.json?api-key=${n}`),t=await e.json();return console.log(t),t.results}catch(e){return console.error("Error fetching random news",e),[]}}async function d(e){try{let t=await fetch(`https://api.nytimes.com/svc/search/v2/articlesearch.json?q=${e}&api-key=${n}`),r=await t.json();return console.log(r),r.response.docs}catch(e){return console.error("Error fetching news query",e),[]}}async function m(e){try{let t=await fetch(`https://api.nytimes.com/svc/topstories/v2/${e}.json?api-key=${n}`),r=await t.json();return console.log(r),r.results}catch(e){return console.error("Error fetching news by category",e),[]}}function u(e,t=!0,n=!1){if(r.innerHTML="",!Array.isArray(e)){console.error("Invalid articles data");return}let o="https://res.cloudinary.com/dnkistviz/image/upload/v1727101632/nytimes-logo_farzry.png";e.forEach(e=>{let l;let a=document.createElement("div");a.classList.add("blog-card"),console.log("Image URL:",l=t?e.multimedia&&e.multimedia.length>0?e.multimedia[0].url:o:n?e.multimedia&&e.multimedia[0]&&e.multimedia[0].url?`https://www.nytimes.com/${e.multimedia[0].url}`:o:e.multimedia&&e.multimedia[0]&&e.multimedia[0].url?e.multimedia[0].url:o);let i=document.createElement("img");i.src=l,i.onerror=()=>{i.src=o},i.alt=e.headline?.main||e.title||"No Title";let c=e.headline?.main||e.title||"No Title",s=document.createElement("h2");s.textContent=c.length>40?`${c.slice(0,40)}...`:c;let d=document.createElement("p");d.textContent=e.abstract?e.abstract.length>120?`${e.abstract.slice(0,120)}...`:e.abstract:"No Description",a.appendChild(i),a.appendChild(s),a.appendChild(d),a.addEventListener("click",()=>{window.open(e.web_url||e.url,"_blank")}),r.appendChild(a)})}a.addEventListener("click",()=>{"block"===i.style.display?i.style.display="none":i.style.display="block"}),c.forEach(e=>{e.addEventListener("click",async()=>{let t=e.getAttribute("data-category");try{let e=await m(t);u(e,!1)}catch(e){console.error("Error fetching news by category",e)}i.style.display="none"})}),l.addEventListener("click",async()=>{let e=o.value.trim();if(e)try{let t=await d(e);u(t,!1,!0)}catch(e){console.error("Error searching news",e)}}),(async()=>{try{let e=await s();u(e,!0)}catch(e){console.error("Error fetching random news",e)}})();
//# sourceMappingURL=index.a69fc339.js.map
